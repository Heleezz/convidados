const WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbzFLg53yOefcomZHcFCkqgaDIxfAG7plFUh_bfodpfF1HfFnBQ1CEtJp9sxAbatUQKX/exec';

function confirmarPresenca() {
  const nome = document.getElementById('nome').value.trim();
  if (!nome) { document.getElementById('mensagem').innerText = '⚠️ Digite seu nome.'; return; }

  fetch(WEB_APP_URL, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ nome: nome }),
    mode: 'cors'
  })
  .then(r => r.json())
  .then(data => {
    document.getElementById('mensagem').innerText = data.message || JSON.stringify(data);
    if (data.success) carregarConfirmados(); // se quiser atualizar lista
  })
  .catch(err => {
    console.error(err);
    document.getElementById('mensagem').innerText = '❌ Erro ao enviar. Veja console.';
  });
}
